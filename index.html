<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, user-scalable=yes"/>
<title>Ù†Ù…ÙˆØ°Ø¬ Ø·Ù„Ø¨ Ù…Ù†ØªØ¬Ø§Øª Ø§Ù„Ø¹Ø¬Ù…ÙŠ</title>
<link rel="icon" href="favicon.ico" type="image/x-icon">
<link rel="icon" type="image/png" sizes="32x32" href="favicon-32x32.png">
<link rel="apple-touch-icon" href="apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="192x192" href="android-chrome-192x192.png">
<meta property="og:title" content="Ù†Ù…ÙˆØ°Ø¬ Ø·Ù„Ø¨ Ù…Ù†ØªØ¬Ø§Øª Ø§Ù„Ø¹Ø¬Ù…ÙŠ">
<meta property="og:description" content="Ø§Ø·Ù„Ø¨ Ù…Ù†ØªØ¬Ø§Øª Ø§Ù„Ø¹Ø¬Ù…ÙŠ Ø§Ù„Ø£ØµÙ„ÙŠØ© Ø¨Ø³Ù‡ÙˆÙ„Ø©">
<meta property="og:image" content="logo.png">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:image" content="logo.png">
<link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@400;500;600;700&display=swap" rel="stylesheet">
<link rel="manifest" href="manifest.webmanifest">
<meta name="theme-color" content="#006d77">
<style>
:root{--turquoise-dark:#006d77;--turquoise-medium:#119da4;--turquoise-light:#83c5be;--turquoise-pale:#e0f7f4;--text-dark:#0d1f1f;--blur-bg:rgba(255,255,255,0.94);--border:#a0d4cf;}
*{box-sizing:border-box;margin:0;padding:0;}
body{font-family:'Tajawal',sans-serif;background:linear-gradient(to bottom,var(--turquoise-dark),var(--turquoise-pale));background-attachment:fixed;color:var(--text-dark);padding:10px 8px;}
.container{background:var(--blur-bg);backdrop-filter:blur(12px);border-radius:18px;padding:24px 20px;max-width:800px;margin:20px auto;box-shadow:0 10px 35px rgba(0,109,119,.25);border:1px solid rgba(131,197,190,0.3);}
.header{text-align:center;margin-bottom:24px;}
.logo-img{max-width:320px;width:100%;margin:auto;display:block;}
h2{text-align:center;color:var(--turquoise-dark);margin-bottom:24px;font-size:1.9rem;}
.form-group{margin-bottom:28px;}
label{display:block;margin-bottom:10px;font-weight:600;font-size:1.1rem;}
input,select,textarea{width:100%;padding:14px;border:1px solid var(--border);border-radius:10px;font-size:1.05rem;}
.note{text-align:center;font-size:.95rem;color:#444;margin-top:16px;}
.note a{color:var(--turquoise-dark);font-weight:700;text-decoration:none;}
.note a:hover{text-decoration:underline;}
button[type="submit"]{width:100%;padding:16px;margin-top:24px;font-size:1.2rem;font-weight:700;background:linear-gradient(90deg,var(--turquoise-medium),var(--turquoise-light));color:#fff;border:none;border-radius:12px;cursor:pointer;}
.loading{pointer-events:none;opacity:0.85;}
.loading::after{content:'';display:inline-block;width:1.1em;height:1.1em;margin-left:0.6em;vertical-align:middle;border:3px solid white;border-top-color:transparent;border-radius:50%;animation:spin 1s linear infinite;}
@keyframes spin{to{transform:rotate(360deg);}}
/* Modal */
#reviewModal{display:none;position:fixed;inset:0;background:rgba(0,0,0,0.5);z-index:1000;align-items:center;justify-content:center;font-family:'Tajawal',sans-serif;}
#reviewModal .modal-content{background:white;padding:24px;border-radius:16px;max-width:90%;max-height:85vh;overflow-y:auto;box-shadow:0 10px 30px rgba(0,0,0,0.25);direction:rtl;text-align:right;}
#reviewModal h3{color:var(--turquoise-dark);margin-bottom:16px;font-size:1.4rem;text-align:center;}
#reviewModal pre{background:#f8f9fa;padding:16px;border-radius:10px;font-family:'Tajawal',monospace;white-space:pre-wrap;word-break:break-word;font-size:1.05rem;line-height:1.6;margin:16px 0;border:1px solid #e0e0e0;}
#reviewModal .buttons{display:flex;gap:16px;justify-content:center;margin-top:24px;flex-wrap:wrap;}
#reviewModal button{padding:12px 32px;border:none;border-radius:10px;font-size:1.1rem;cursor:pointer;min-width:140px;}
#reviewModal .confirm-btn{background:var(--turquoise-medium);color:white;}
#reviewModal .cancel-btn{background:#e0e0e0;color:#333;}
#reviewModal .whatsapp-btn{background:#25D366;color:white;}
/* Products Grid */
.products-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(160px,1fr));gap:18px;margin:20px 0;padding:10px;}
.product-card{background:white;border-radius:16px;overflow:hidden;box-shadow:0 6px 20px rgba(0,109,119,.15);text-align:center;transition:transform 0.2s;}
.product-card:hover{transform:translateY(-4px);}
.product-card img{width:100%;height:170px;object-fit:cover;border-bottom:3px solid var(--turquoise-medium);}
.product-info{padding:10px 8px;}
.product-info h4{font-size:0.95rem;margin:0 0 4px 0;color:var(--turquoise-dark);font-weight:600;}
.product-info p{font-size:0.9rem;color:#555;margin:0;}
.product-card input{width:70px;height:48px;margin:10px auto;font-size:1.4rem;text-align:center;border:2px solid var(--turquoise-medium);border-radius:10px;}
/* Stock Bar Styles - ØªØ¹Ø¯ÙŠÙ„ Ù„ÙŠÙƒÙˆÙ† Ø£ÙˆØ¶Ø­ ÙˆØ£ÙƒØ«Ø± Ø¸Ù‡ÙˆØ±Ù‹Ø§ */
.stock-info{margin:14px auto 10px;text-align:center;font-size:0.95rem;color:#333;line-height:1.4;}
.stock-bar-container{width:92%;height:12px;background:#e8ecef;border-radius:6px;overflow:hidden;margin:8px auto;box-shadow:0 1px 3px rgba(0,0,0,0.1);}
.stock-bar{height:100%;transition:width 0.6s ease-in-out;min-width:6px;}
.stock-text{font-weight:600;}
/* Responsive */
@media (max-width:580px){
  .products-grid{gap:16px;}
  .product-card img{height:150px;}
  .stock-info{font-size:0.9rem;}
  .stock-bar-container{height:10px;}
}
</style>
</head>
<body>
<div class="container">
  <div class="header"><img src="logo.png" class="logo-img" alt="Ø§Ù„Ø¹Ø¬Ù…ÙŠ" loading="lazy"></div>
  <h2>Ù†Ù…ÙˆØ°Ø¬ Ø·Ù„Ø¨ Ù…Ù†ØªØ¬Ø§Øª</h2>
  <form id="orderForm">
    <div class="form-group">
      <label>Ø§Ù„Ù…Ø­Ø§ÙØ¸Ø© / Ø§Ù„Ù…Ø¯ÙŠÙ†Ø© *</label>
      <input type="text" name="governorate" placeholder="Ù…Ø«Ø§Ù„: Ø¥Ø³Ø·Ù†Ø¨ÙˆÙ„ - Ù‚ÙˆÙ†ÙŠØ§ - Ø£Ù†Ø·Ø§Ù„ÙŠØ§ - ØºØ§Ø²ÙŠ Ø¹Ù†ØªØ§Ø¨ Ø¥Ù„Ø®" required>
    </div>
    <div class="form-group">
      <label>Ø§Ø³Ù… Ø§Ù„Ø²Ø¨ÙˆÙ† *</label>
      <input type="text" name="customerName" placeholder="Ù…Ø«Ø§Ù„: Ù…Ø­Ù…Ø¯ Ø£Ø­Ù…Ø¯" required>
    </div>
    <div class="form-group">
      <label>Ø§Ø®ØªØ± Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª ÙˆØ§Ù„ÙƒÙ…ÙŠØ§Øª Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø©</label>
      <div class="products-grid">
        <div class="product-card">
          <img src="001.jpg" alt="001 Ø¹Ø¬Ù…ÙŠ Ø­Ù…Øµ Ø¨Ø§Ù„Ø·Ø­ÙŠÙ†Ø© 325Øº" loading="lazy">
          <div class="product-info"><h4>001 Ø¹Ø¬Ù…ÙŠ Ø­Ù…Øµ Ø¨Ø§Ù„Ø·Ø­ÙŠÙ†Ø©</h4><p>325 ØºØ±Ø§Ù…</p></div>
          <input type="number" name="quantity_001" min="0" value="0">
          <div class="stock-info" data-code="001"></div>
        </div>
        <div class="product-card">
          <img src="002.jpg" alt="002 Ø¹Ø¬Ù…ÙŠ ÙƒØ±ÙŠÙ… Ø§Ù„Ø«ÙˆÙ… 230Øº" loading="lazy">
          <div class="product-info"><h4>002 Ø¹Ø¬Ù…ÙŠ ÙƒØ±ÙŠÙ… Ø§Ù„Ø«ÙˆÙ…</h4><p>230 ØºØ±Ø§Ù…</p></div>
          <input type="number" name="quantity_002" min="0" value="0">
          <div class="stock-info" data-code="002"></div>
        </div>
        <div class="product-card">
          <img src="003.jpg" alt="003 Ø¹Ø¬Ù…ÙŠ Ù…ØªØ¨Ù„ 230Øº" loading="lazy">
          <div class="product-info"><h4>003 Ø¹Ø¬Ù…ÙŠ Ù…ØªØ¨Ù„</h4><p>230 ØºØ±Ø§Ù…</p></div>
          <input type="number" name="quantity_003" min="0" value="0">
          <div class="stock-info" data-code="003"></div>
        </div>
        <div class="product-card">
          <img src="004.jpg" alt="004 Ø¹Ø¬Ù…ÙŠ Ø­Ù…Øµ 450Øº" loading="lazy">
          <div class="product-info"><h4>004 Ø¹Ø¬Ù…ÙŠ Ø­Ù…Øµ</h4><p>450 ØºØ±Ø§Ù…</p></div>
          <input type="number" name="quantity_004" min="0" value="0">
          <div class="stock-info" data-code="004"></div>
        </div>
        <div class="product-card">
          <img src="005.jpg" alt="005 Ø¹Ø¬Ù…ÙŠ Ø­Ù…Øµ 300Øº" loading="lazy">
          <div class="product-info"><h4>005 Ø¹Ø¬Ù…ÙŠ Ø­Ù…Øµ</h4><p>300 ØºØ±Ø§Ù…</p></div>
          <input type="number" name="quantity_005" min="0" value="0">
          <div class="stock-info" data-code="005"></div>
        </div>
        <div class="product-card">
          <img src="006.jpg" alt="006 Ø¹Ø¬Ù…ÙŠ Ø­Ù…Øµ 225Øº" loading="lazy">
          <div class="product-info"><h4>006 Ø¹Ø¬Ù…ÙŠ Ø­Ù…Øµ</h4><p>225 ØºØ±Ø§Ù…</p></div>
          <input type="number" name="quantity_006" min="0" value="0">
          <div class="stock-info" data-code="006"></div>
        </div>
        <div class="product-card">
          <img src="007.jpg" alt="007 Ø¹Ø¬Ù…ÙŠ ÙƒØ±ÙŠÙ… Ø§Ù„Ø«ÙˆÙ… 225Øº" loading="lazy">
          <div class="product-info"><h4>007 Ø¹Ø¬Ù…ÙŠ ÙƒØ±ÙŠÙ… Ø§Ù„Ø«ÙˆÙ…</h4><p>225 ØºØ±Ø§Ù…</p></div>
          <input type="number" name="quantity_007" min="0" value="0">
          <div class="stock-info" data-code="007"></div>
        </div>
        <div class="product-card">
          <img src="008.jpg" alt="008 Ø¹Ø¬Ù…ÙŠ Ù…ØªØ¨Ù„ 450Øº" loading="lazy">
          <div class="product-info"><h4>008 Ø¹Ø¬Ù…ÙŠ Ù…ØªØ¨Ù„</h4><p>450 ØºØ±Ø§Ù…</p></div>
          <input type="number" name="quantity_008" min="0" value="0">
          <div class="stock-info" data-code="008"></div>
        </div>
        <div class="product-card">
          <img src="009.jpg" alt="009 Ø¹Ø¬Ù…ÙŠ Ù…ØªØ¨Ù„ 225Øº" loading="lazy">
          <div class="product-info"><h4>009 Ø¹Ø¬Ù…ÙŠ Ù…ØªØ¨Ù„</h4><p>225 ØºØ±Ø§Ù…</p></div>
          <input type="number" name="quantity_009" min="0" value="0">
          <div class="stock-info" data-code="009"></div>
        </div>
        <div class="product-card">
          <img src="010.jpg" alt="010 Ø²Ø§Ø¯ Ø§Ù„Ø¹Ø±Ø¨ÙŠ Ø­Ù…Øµ Ø¨Ø§Ù„Ø·Ø­ÙŠÙ†Ø© 230Øº" loading="lazy">
          <div class="product-info"><h4>010 Ø²Ø§Ø¯ Ø§Ù„Ø¹Ø±Ø¨ÙŠ Ø­Ù…Øµ Ø¨Ø§Ù„Ø·Ø­ÙŠÙ†Ø©</h4><p>230 ØºØ±Ø§Ù…</p></div>
          <input type="number" name="quantity_010" min="0" value="0">
          <div class="stock-info" data-code="010"></div>
        </div>
        <div class="product-card">
          <img src="011.jpg" alt="011 Ø²Ø§Ø¯ Ø§Ù„Ø¹Ø±Ø¨ÙŠ ÙƒØ±ÙŠÙ… Ø§Ù„Ø«ÙˆÙ… 230Øº" loading="lazy">
          <div class="product-info"><h4>011 Ø²Ø§Ø¯ Ø§Ù„Ø¹Ø±Ø¨ÙŠ ÙƒØ±ÙŠÙ… Ø§Ù„Ø«ÙˆÙ…</h4><p>230 ØºØ±Ø§Ù…</p></div>
          <input type="number" name="quantity_011" min="0" value="0">
          <div class="stock-info" data-code="011"></div>
        </div>
        <div class="product-card">
          <img src="012.jpg" alt="012 Ø²Ø§Ø¯ Ø§Ù„Ø¹Ø±Ø¨ÙŠ Ù…ØªØ¨Ù„ 230Øº" loading="lazy">
          <div class="product-info"><h4>012 Ø²Ø§Ø¯ Ø§Ù„Ø¹Ø±Ø¨ÙŠ Ù…ØªØ¨Ù„</h4><p>230 ØºØ±Ø§Ù…</p></div>
          <input type="number" name="quantity_012" min="0" value="0">
          <div class="stock-info" data-code="012"></div>
        </div>
        <div class="product-card">
          <img src="013.jpg" alt="013 Ø§Ù„Ø­Ù…ØµØ§Ù†ÙŠ Ø­Ù…Øµ 230Øº" loading="lazy">
          <div class="product-info"><h4>013 Ø§Ù„Ø­Ù…ØµØ§Ù†ÙŠ Ø­Ù…Øµ</h4><p>230 ØºØ±Ø§Ù…</p></div>
          <input type="number" name="quantity_013" min="0" value="0">
          <div class="stock-info" data-code="013"></div>
        </div>
        <div class="product-card">
          <img src="014.jpg" alt="014 Ø§Ù„Ø­Ù…ØµØ§Ù†ÙŠ ÙƒØ±ÙŠÙ… Ø§Ù„Ø«ÙˆÙ… 230Øº" loading="lazy">
          <div class="product-info"><h4>014 Ø§Ù„Ø­Ù…ØµØ§Ù†ÙŠ ÙƒØ±ÙŠÙ… Ø§Ù„Ø«ÙˆÙ…</h4><p>230 ØºØ±Ø§Ù…</p></div>
          <input type="number" name="quantity_014" min="0" value="0">
          <div class="stock-info" data-code="014"></div>
        </div>
        <div class="product-card">
          <img src="015.jpg" alt="015 Ø§Ù„Ø®Ø§Ù„ Ø­Ù…Øµ 230Øº" loading="lazy">
          <div class="product-info"><h4>015 Ø§Ù„Ø®Ø§Ù„ Ø­Ù…Øµ</h4><p>230 ØºØ±Ø§Ù…</p></div>
          <input type="number" name="quantity_015" min="0" value="0">
          <div class="stock-info" data-code="015"></div>
        </div>
        <div class="product-card">
          <img src="016.jpg" alt="016 Ø§Ù„Ø®Ø§Ù„ ÙƒØ±ÙŠÙ… Ø§Ù„Ø«ÙˆÙ… 230Øº" loading="lazy">
          <div class="product-info"><h4>016 Ø§Ù„Ø®Ø§Ù„ ÙƒØ±ÙŠÙ… Ø§Ù„Ø«ÙˆÙ…</h4><p>230 ØºØ±Ø§Ù…</p></div>
          <input type="number" name="quantity_016" min="0" value="0">
          <div class="stock-info" data-code="016"></div>
        </div>
        <div class="product-card">
          <img src="017.jpg" alt="017 Ø§Ù„Ø®Ø§Ù„ Ù…ØªØ¨Ù„ 230Øº" loading="lazy">
          <div class="product-info"><h4>017 Ø§Ù„Ø®Ø§Ù„ Ù…ØªØ¨Ù„</h4><p>230 ØºØ±Ø§Ù…</p></div>
          <input type="number" name="quantity_017" min="0" value="0">
          <div class="stock-info" data-code="017"></div>
        </div>
        <div class="product-card">
          <img src="018.jpg" alt="018 Ø¹Ø¬Ù…ÙŠ Ø­Ù…Øµ Ø¨Ø§Ù„ÙƒÙŠÙ„Ùˆ" loading="lazy">
          <div class="product-info"><h4>018 Ø¹Ø¬Ù…ÙŠ Ø­Ù…Øµ Ø¨Ø§Ù„ÙƒÙŠÙ„Ùˆ</h4><p>ÙƒÙŠÙ„Ùˆ ØºØ±Ø§Ù…</p></div>
          <input type="number" name="quantity_018" min="0" value="0">
          <div class="stock-info" data-code="018"></div>
        </div>
        <div class="product-card">
          <img src="019.jpg" alt="019 Ø§Ù„Ø­Ù…ØµØ§Ù†ÙŠ Ø­Ù…Øµ Ø¨Ø§Ù„ÙƒÙŠÙ„Ùˆ" loading="lazy">
          <div class="product-info"><h4>019 Ø§Ù„Ø­Ù…ØµØ§Ù†ÙŠ Ø­Ù…Øµ Ø¨Ø§Ù„ÙƒÙŠÙ„Ùˆ</h4><p>ÙƒÙŠÙ„Ùˆ ØºØ±Ø§Ù…</p></div>
          <input type="number" name="quantity_019" min="0" value="0">
          <div class="stock-info" data-code="019"></div>
        </div>
        <div class="product-card">
          <img src="020.jpg" alt="020 Ø²Ø§Ø¯ Ø§Ù„Ø¹Ø±Ø¨ÙŠ ÙƒØ±ÙŠÙ… Ø§Ù„Ø«ÙˆÙ… Ø¨Ø§Ù„ÙƒÙŠÙ„Ùˆ" loading="lazy">
          <div class="product-info"><h4>020 Ø²Ø§Ø¯ Ø§Ù„Ø¹Ø±Ø¨ÙŠ ÙƒØ±ÙŠÙ… Ø§Ù„Ø«ÙˆÙ… Ø¨Ø§Ù„ÙƒÙŠÙ„Ùˆ</h4><p>ÙƒÙŠÙ„Ùˆ ØºØ±Ø§Ù…</p></div>
          <input type="number" name="quantity_020" min="0" value="0">
          <div class="stock-info" data-code="020"></div>
        </div>
        <div class="product-card">
          <img src="021.jpg" alt="021 Ø§Ù„Ø­Ù…ØµØ§Ù†ÙŠ ÙƒØ±ÙŠÙ… Ø§Ù„Ø«ÙˆÙ… Ø¨Ø§Ù„ÙƒÙŠÙ„Ùˆ" loading="lazy">
          <div class="product-info"><h4>021 Ø§Ù„Ø­Ù…ØµØ§Ù†ÙŠ ÙƒØ±ÙŠÙ… Ø§Ù„Ø«ÙˆÙ… Ø¨Ø§Ù„ÙƒÙŠÙ„Ùˆ</h4><p>ÙƒÙŠÙ„Ùˆ ØºØ±Ø§Ù…</p></div>
          <input type="number" name="quantity_021" min="0" value="0">
          <div class="stock-info" data-code="021"></div>
        </div>
        <div class="product-card">
          <img src="022.jpg" alt="022 Ø§Ù„Ø®Ø§Ù„ ÙƒØ±ÙŠÙ… Ø§Ù„Ø«ÙˆÙ… Ø¨Ø§Ù„ÙƒÙŠÙ„Ùˆ" loading="lazy">
          <div class="product-info"><h4>022 Ø§Ù„Ø®Ø§Ù„ ÙƒØ±ÙŠÙ… Ø§Ù„Ø«ÙˆÙ… Ø¨Ø§Ù„ÙƒÙŠÙ„Ùˆ</h4><p>ÙƒÙŠÙ„Ùˆ ØºØ±Ø§Ù…</p></div>
          <input type="number" name="quantity_022" min="0" value="0">
          <div class="stock-info" data-code="022"></div>
        </div>
        <div class="product-card">
          <img src="023.jpg" alt="023 MNZ ÙƒØ±ÙŠÙ… Ø§Ù„Ø«ÙˆÙ… Ø¨Ø§Ù„ÙƒÙŠÙ„Ùˆ" loading="lazy">
          <div class="product-info"><h4>023 MNZ ÙƒØ±ÙŠÙ… Ø§Ù„Ø«ÙˆÙ… Ø¨Ø§Ù„ÙƒÙŠÙ„Ùˆ</h4><p>ÙƒÙŠÙ„Ùˆ ØºØ±Ø§Ù…</p></div>
          <input type="number" name="quantity_023" min="0" value="0">
          <div class="stock-info" data-code="023"></div>
        </div>
        <div class="product-card">
          <img src="024.jpg" alt="024 Ø¹Ø¬Ù…ÙŠ Ù…ØªØ¨Ù„ Ø¨Ø§Ù„ÙƒÙŠÙ„Ùˆ" loading="lazy">
          <div class="product-info"><h4>024 Ø¹Ø¬Ù…ÙŠ Ù…ØªØ¨Ù„ Ø¨Ø§Ù„ÙƒÙŠÙ„Ùˆ</h4><p>ÙƒÙŠÙ„Ùˆ ØºØ±Ø§Ù…</p></div>
          <input type="number" name="quantity_024" min="0" value="0">
          <div class="stock-info" data-code="024"></div>
        </div>
        <div class="product-card">
          <img src="025.jpg" alt="025 Ø­Ù…Øµ Ø®Ø§Ù… Ø£Ø³Ø¨ØªÙŠÙƒ 20 ÙƒØº" loading="lazy">
          <div class="product-info"><h4>025 Ø­Ù…Øµ Ø®Ø§Ù… Ø£Ø³Ø¨ØªÙŠÙƒ</h4><p>20 ÙƒØº</p></div>
          <input type="number" name="quantity_025" min="0" value="0">
          <div class="stock-info" data-code="025"></div>
        </div>
        <div class="product-card">
          <img src="026.jpg" alt="026 2750Øº Ø¹Ø¬Ù…ÙŠ Ù„Ø¨Ù†Ø©" loading="lazy">
          <div class="product-info"><h4>026 Ø¹Ø¬Ù…ÙŠ Ù„Ø¨Ù†Ø©</h4><p>2750 ØºØ±Ø§Ù…</p></div>
          <input type="number" name="quantity_026" min="0" value="0">
          <div class="stock-info" data-code="026"></div>
        </div>
        <div class="product-card">
          <img src="027.jpg" alt="027 900Øº Ø¹Ø¬Ù…ÙŠ Ù„Ø¨Ù†Ø©" loading="lazy">
          <div class="product-info"><h4>027 Ø¹Ø¬Ù…ÙŠ Ù„Ø¨Ù†Ø©</h4><p>900 ØºØ±Ø§Ù…</p></div>
          <input type="number" name="quantity_027" min="0" value="0">
          <div class="stock-info" data-code="027"></div>
        </div>
        <div class="product-card">
          <img src="028.jpg" alt="028 Ø£Ø¨Ùˆ Ø¹Ø¨Ø¯Ùˆ Ø­Ù…Øµ 300Øº" loading="lazy">
          <div class="product-info"><h4>028 Ø£Ø¨Ùˆ Ø¹Ø¨Ø¯Ùˆ Ø­Ù…Øµ</h4><p>300 ØºØ±Ø§Ù…</p></div>
          <input type="number" name="quantity_028" min="0" value="0">
          <div class="stock-info" data-code="028"></div>
        </div>
      </div>
    </div>
    <div class="form-group">
      <label>Ù…Ù„Ø§Ø­Ø¸Ø§Øª</label>
      <textarea name="notes" placeholder="Ø£ÙŠ ØªÙØ§ØµÙŠÙ„ Ø¥Ø¶Ø§ÙÙŠØ© (Ù…Ø«Ø§Ù„: Ù†ÙˆØ¹ Ø§Ù„ØªØºÙ„ÙŠÙ Ø£Ùˆ ÙˆÙ‚Øª Ø§Ù„ØªØ³Ù„ÙŠÙ… Ø§Ù„Ù…ÙØ¶Ù„)"></textarea>
    </div>
    <button type="submit" id="submitBtn">Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø·Ù„Ø¨</button>
    <div class="note">ÙÙŠ Ø­Ø§Ù„ ÙˆØ¬ÙˆØ¯ Ø§Ø³ØªÙØ³Ø§Ø±ØŒ Ø§Ù„ØªÙˆØ§ØµÙ„ Ø¹Ø¨Ø± ÙˆØ§ØªØ³: <a href="https://wa.me/905345758221" target="_blank" rel="noopener">00905345758221</a> ğŸ’¬</div>
  </form>

  <!-- Modal Ø§Ù„Ù…Ø±Ø§Ø¬Ø¹Ø© -->
  <div id="reviewModal">
    <div class="modal-content">
      <h3>Ù…Ø±Ø§Ø¬Ø¹Ø© Ø§Ù„Ø·Ù„Ø¨ Ù‚Ø¨Ù„ Ø§Ù„Ø¥Ø±Ø³Ø§Ù„</h3>
      <pre id="reviewText"></pre>
      <div class="buttons">
        <button class="confirm-btn" id="confirmSend">Ù†Ø¹Ù…ØŒ Ø£Ø±Ø³Ù„ Ø§Ù„Ø·Ù„Ø¨</button>
        <button class="whatsapp-btn" id="copyToWhatsApp">Ù†Ø³Ø® Ø§Ù„Ø·Ù„Ø¨ Ù„Ù„ÙˆØ§ØªØ³Ø§Ø¨</button>
        <button class="cancel-btn" id="cancelReview">Ø±Ø§Ø¬Ø¹ Ù…Ø±Ø© Ø£Ø®Ø±Ù‰</button>
      </div>
    </div>
  </div>
</div>

<script>
// Ø±Ø§Ø¨Ø· Ø§Ù„Ù€ Web App
const SCRIPT_URL = "https://script.google.com/macros/s/AKfycbwmkS61TA56ODMQxvRASxW4b_3feZssp6NfTuZdaiJzs4A0T7jV3oZOeKB8thgjSNKwuA/exec";

let stockData = {}; // { "001": {stock: ..., target: ...}, ... }

async function loadStock() {
  try {
    const response = await fetch(SCRIPT_URL, {
      method: "GET",
      mode: "cors",
      cache: "no-cache"
    });

    if (!response.ok) throw new Error(`HTTP error: ${response.status}`);

    const data = await response.json();

    if (data.success && data.stock) {
      stockData = data.stock;
      updateStockBars();
      console.log("ØªÙ… Ø¬Ù„Ø¨ Ø§Ù„Ù…Ø®Ø²ÙˆÙ† + Ø§Ù„Ù‡Ø¯Ù:", stockData);
    } else {
      console.warn("Ù…Ø´ÙƒÙ„Ø© ÙÙŠ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª:", data);
    }
  } catch (err) {
    console.error("ÙØ´Ù„ Ø¬Ù„Ø¨ Ø§Ù„Ù…Ø®Ø²ÙˆÙ†:", err);
  }
}

function updateStockBars() {
  document.querySelectorAll('.stock-info').forEach(el => {
    const code = el.dataset.code;
    if (!code) return;

    const item = stockData[code] || { stock: 0, target: 200 };
    const current = Number(item.stock) || 0;
    const target = Number(item.target) || 200;

    const percent = Math.min(Math.max((current / target) * 100, 0), 100);

    let color, emoji, text;
    if      (current >= target * 0.50) { color = '#4CAF50'; emoji = 'ğŸŸ¢'; text = 'Ù…ØªÙˆÙØ± Ø¨ÙƒØ«Ø±Ø©'; }
    else if (current >= target * 0.15) { color = '#FF9800'; emoji = 'ğŸŸ '; text = 'ÙƒÙ…ÙŠØ© Ù…ØªÙˆØ³Ø·Ø©'; }
    else if (current > 0)              { color = '#F44336'; emoji = 'ğŸ”´'; text = 'Ù‚Ù„ÙŠÙ„ Ø¬Ø¯Ù‹Ø§'; }
    else                               { color = '#9E9E9E'; emoji = 'âšª'; text = 'Ù†ÙØ¯ Ø­Ø§Ù„ÙŠÙ‹Ø§'; }

    el.innerHTML = `
      <div class="stock-bar-container">
        <div class="stock-bar" style="width: ${percent}%; background-color: ${color};"></div>
      </div>
      <span class="stock-text">${emoji} ${current} / ${target} â€“ ${text}</span>
    `;
  });
}

function getSelectedItems() {
  let summary = "";
  let index = 1;
  let hasItems = false;
  document.querySelectorAll('.product-card').forEach(card => {
    const input = card.querySelector('input[type="number"]');
    const qty = parseInt(input.value) || 0;
    if (qty > 0) {
      hasItems = true;
      const name = card.querySelector('h4').textContent.trim();
      const weight = card.querySelector('p').textContent.trim();
      summary += `${index}. ${name}\n Ø§Ù„ÙƒÙ…ÙŠØ©: ${qty}â€ƒâ€ƒØ§Ù„ÙˆØ²Ù†: ${weight}\n\n`;
      index++;
    }
  });
  if (!hasItems) return "";
  summary += `Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø¹Ø¯Ø¯ Ø§Ù„Ø£ØµÙ†Ø§Ù Ø§Ù„Ù…Ø®ØªØ§Ø±Ø©: ${index - 1}`;
  return summary;
}

document.getElementById('orderForm').addEventListener('submit', function(e) {
  e.preventDefault();
  const form = document.getElementById('orderForm');
  if (!form.governorate.value.trim() || !form.customerName.value.trim()) {
    alert("ÙŠØ±Ø¬Ù‰ ØªØ¹Ø¨Ø¦Ø© Ø­Ù‚Ù„ÙŠ Ø§Ù„Ù…Ø­Ø§ÙØ¸Ø© ÙˆØ§Ø³Ù… Ø§Ù„Ø²Ø¨ÙˆÙ† Ø¨Ø´ÙƒÙ„ ØµØ­ÙŠØ­");
    return;
  }
  const summaryText = getSelectedItems();
  if (!summaryText) {
    alert("âš ï¸ ÙŠØ¬Ø¨ Ø§Ø®ØªÙŠØ§Ø± ØµÙ†Ù ÙˆØ§Ø­Ø¯ Ø¹Ù„Ù‰ Ø§Ù„Ø£Ù‚Ù„ âš ï¸");
    return;
  }
  const reviewMessage =
`Ø§Ù„Ø·Ù„Ø¨ ÙŠØ­ØªÙˆÙŠ Ø¹Ù„Ù‰ ${summaryText.match(/Ø§Ù„ÙƒÙ…ÙŠØ©/g)?.length || 0} ØµÙ†Ù/Ø£ØµÙ†Ø§Ù
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
${summaryText}
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Ù‡Ù„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª ØµØ­ÙŠØ­Ø© ÙˆÙƒØ§Ù…Ù„Ø©ØŸ`;
  document.getElementById('reviewText').textContent = reviewMessage;
  document.getElementById('reviewModal').style.display = 'flex';
});

document.getElementById('confirmSend').onclick = function() {
  document.getElementById('reviewModal').style.display = 'none';
  const submitBtn = document.getElementById('submitBtn');
  submitBtn.disabled = true;
  submitBtn.classList.add('loading');
  submitBtn.textContent = 'Ø¬Ø§Ø±ÙŠ Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø·Ù„Ø¨...';

  fetch(SCRIPT_URL, {
    method: "POST",
    body: new FormData(document.getElementById('orderForm'))
  })
  .then(response => {
    if (!response.ok) throw new Error(`Ø­Ø§Ù„Ø© Ø§Ù„Ø±Ø¯: ${response.status}`);
    return response.json();
  })
  .then(data => {
    if (data && data.success === true) {
      alert(`ğŸ‰ ØªÙ… Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø·Ù„Ø¨ Ø¨Ù†Ø¬Ø§Ø­! ğŸ‰\nØ±Ù‚Ù… Ø§Ù„Ø·Ù„Ø¨: ${data.orderId}\nØ´ÙƒØ±Ø§Ù‹ Ù„Ùƒ`);
      document.getElementById('orderForm').reset();
      loadStock(); // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø¨Ø§Ø±Ø§Øª Ø¨Ø¹Ø¯ Ø§Ù„Ù†Ù‚ØµØ§Ù†
    } else {
      alert("âš ï¸ " + (data?.message || "Ø­Ø¯Ø« Ø®Ø·Ø£ ØºÙŠØ± Ù…ØªÙˆÙ‚Ø¹"));
    }
  })
  .catch(err => {
    console.error(err);
    alert("âŒ Ø­Ø¯Ø« Ø®Ø·Ø£ Ø£Ø«Ù†Ø§Ø¡ Ø§Ù„Ø¥Ø±Ø³Ø§Ù„:\n" + err.message + "\n\nØªÙˆØ§ØµÙ„ ÙˆØ§ØªØ³Ø§Ø¨ Ù„Ùˆ Ø§Ø³ØªÙ…Ø± Ø§Ù„Ø®Ø·Ø£");
  })
  .finally(() => {
    submitBtn.disabled = false;
    submitBtn.classList.remove('loading');
    submitBtn.textContent = "Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø·Ù„Ø¨";
  });
};

document.getElementById('cancelReview').onclick = function() {
  document.getElementById('reviewModal').style.display = 'none';
};

document.getElementById('copyToWhatsApp').onclick = function() {
  const text = document.getElementById('reviewText').textContent;
  const phone = "905345758221";
  const waUrl = `https://wa.me/${phone}?text=${encodeURIComponent(text)}`;
  window.open(waUrl, '_blank');
};

// ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù…Ø®Ø²ÙˆÙ† Ø¹Ù†Ø¯ ÙØªØ­ Ø§Ù„ØµÙØ­Ø©
window.addEventListener('DOMContentLoaded', loadStock);
</script>
</body>
</html>

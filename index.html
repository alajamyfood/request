<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, user-scalable=yes"/>
<title>Ù†Ù…ÙˆØ°Ø¬ Ø·Ù„Ø¨ Ù…Ù†ØªØ¬Ø§Øª Ø§Ù„Ø¹Ø¬Ù…ÙŠ</title>
<link rel="icon" href="favicon.ico" type="image/x-icon">
<link rel="icon" type="image/png" sizes="32x32" href="favicon-32x32.png">
<link rel="apple-touch-icon" href="apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="192x192" href="android-chrome-192x192.png">
<meta property="og:title" content="Ù†Ù…ÙˆØ°Ø¬ Ø·Ù„Ø¨ Ù…Ù†ØªØ¬Ø§Øª Ø§Ù„Ø¹Ø¬Ù…ÙŠ">
<meta property="og:description" content="Ø§Ø·Ù„Ø¨ Ù…Ù†ØªØ¬Ø§Øª Ø§Ù„Ø¹Ø¬Ù…ÙŠ Ø§Ù„Ø£ØµÙ„ÙŠØ© Ø¨Ø³Ù‡ÙˆÙ„Ø©">
<meta property="og:image" content="logo.png">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:image" content="logo.png">
<link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@400;500;600;700&display=swap" rel="stylesheet">
<link rel="manifest" href="manifest.webmanifest">
<meta name="theme-color" content="#006d77">

<style>
:root {
  --turquoise-dark: #006d77;
  --turquoise-medium: #119da4;
  --turquoise-light: #83c5be;
  --turquoise-pale: #e0f7f4;
  --text-dark: #0d1f1f;
  --bg-blur: rgba(255,255,255,0.94);
  --border: #a0d4cf;
  --whatsapp: #25D366;
  --light-gray: #f0f2f5;
}

* { box-sizing: border-box; margin:0; padding:0; }

body {
  font-family: 'Tajawal', sans-serif;
  background: linear-gradient(to bottom, var(--turquoise-dark), var(--turquoise-pale));
  background-attachment: fixed;
  color: var(--text-dark);
  padding: 12px 10px;
  min-height: 100vh;
}

.container {
  background: var(--bg-blur);
  backdrop-filter: blur(14px);
  border-radius: 20px;
  padding: 24px 18px;
  max-width: 900px;
  margin: 16px auto;
  box-shadow: 0 12px 40px rgba(0,109,119,0.28);
  border: 1px solid rgba(131,197,190,0.35);
}

.header { text-align: center; margin-bottom: 28px; }
.logo-img { max-width: 320px; width: 100%; display: block; margin: auto; }

h2 { text-align: center; color: var(--turquoise-dark); margin-bottom: 28px; font-size: clamp(1.8rem, 5.5vw, 2.2rem); }

.form-group { margin-bottom: 32px; }
label { display: block; margin-bottom: 10px; font-weight: 600; font-size: 1.15rem; color: #234; }

input[type="text"],
input[type="number"],
textarea {
  width: 100%;
  padding: 14px 16px;
  border: 1.5px solid var(--border);
  border-radius: 12px;
  font-size: 1.1rem;
  font-family: inherit;
}

input[type="number"] {
  font-size: 1.6rem;
  font-weight: 700;
  text-align: center;
  width: 120px;
  height: 64px;
  margin: 12px auto;
  display: block;
  border: 3px solid var(--turquoise-medium);
  border-radius: 16px;
  -moz-appearance: textfield;
}

input[type="number"]::-webkit-outer-spin-button,
input[type="number"]::-webkit-inner-spin-button { -webkit-appearance: none; margin: 0; }

input:focus, textarea:focus {
  outline: none;
  border-color: var(--turquoise-medium);
  box-shadow: 0 0 0 4px rgba(17,157,164,0.2);
}

.products-grid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(175px, 1fr));
  gap: 22px;
  margin: 28px 0;
  padding: 0 6px;
}

.product-card {
  background: white;
  border-radius: 16px;
  overflow: hidden;
  box-shadow: 0 6px 22px rgba(0,109,119,0.16);
  text-align: center;
  transition: all 0.22s ease;
}

.product-card:hover {
  transform: translateY(-6px);
  box-shadow: 0 12px 32px rgba(0,109,119,0.24);
}

.product-card img {
  width: 100%;
  height: 185px;
  object-fit: cover;
  border-bottom: 4px solid var(--turquoise-medium);
}

.product-info { padding: 12px 10px; }
.product-info h4 {
  font-size: 1.05rem;
  margin: 0 0 6px;
  color: var(--turquoise-dark);
  font-weight: 700;
  line-height: 1.35;
}
.product-info p { font-size: 0.95rem; color: #555; margin: 0; }

.stock-info {
  margin: 14px auto 10px;
  text-align: center;
  font-size: 0.95rem;
  color: #333;
  line-height: 1.4;
}
.stock-bar-container {
  width: 92%;
  height: 16px;
  background: #e8ecef;
  border-radius: 8px;
  overflow: hidden;
  margin: 8px auto;
  box-shadow: 0 2px 4px rgba(0,0,0,0.1);
}
.stock-bar {
  height: 100%;
  transition: width 0.6s ease-in-out, background-color 0.6s ease;
  min-width: 8px;
}
.stock-text { font-weight: 600; }

button[type="submit"] {
  width: 100%;
  padding: 18px;
  margin-top: 28px;
  font-size: 1.3rem;
  font-weight: 700;
  background: linear-gradient(90deg, var(--turquoise-medium), var(--turquoise-light));
  color: white;
  border: none;
  border-radius: 14px;
  cursor: pointer;
  box-shadow: 0 6px 20px rgba(17,157,164,0.3);
}

.loading { pointer-events: none; opacity: 0.8; }
.loading::after {
  content: '';
  display: inline-block;
  width: 1.3em; height: 1.3em;
  margin-left: 0.8em;
  vertical-align: middle;
  border: 4px solid white;
  border-top-color: transparent;
  border-radius: 50%;
  animation: spin 1s linear infinite;
}
@keyframes spin { to { transform: rotate(360deg); } }

/* Modal */
.modal {
  display: none;
  position: fixed;
  inset: 0;
  background: rgba(0,0,0,0.55);
  z-index: 2000;
  align-items: center;
  justify-content: center;
  padding: 16px;
}

.modal-content {
  background: white;
  border-radius: 20px;
  max-width: 92%;
  max-height: 88vh;
  overflow-y: auto;
  box-shadow: 0 20px 50px rgba(0,0,0,0.35);
  direction: rtl;
  text-align: right;
}

#reviewModal .modal-content { padding: 28px 24px; }
#reviewModal h3 { color: var(--turquoise-dark); text-align: center; font-size: 1.6rem; margin-bottom: 20px; }
#reviewModal pre {
  background: #f8fafc;
  padding: 18px;
  border-radius: 12px;
  font-size: 1.08rem;
  line-height: 1.7;
  white-space: pre-wrap;
  word-break: break-word;
  border: 1px solid #e2e8f0;
  margin: 0 0 24px;
  font-family: 'Tajawal', monospace;
}

#reviewModal .question {
  text-align: center;
  color: #c62828;
  font-weight: 700;
  font-size: 1.15rem;
  margin: 20px 0;
}

.modal-buttons { display: flex; gap: 16px; justify-content: center; flex-wrap: wrap; }
.modal-btn {
  padding: 14px 40px;
  border: none;
  border-radius: 12px;
  font-size: 1.18rem;
  font-weight: 600;
  cursor: pointer;
  min-width: 160px;
}
.confirm { background: var(--turquoise-medium); color: white; }
.cancel  { background: #e2e8f0; color: #334; }

#confirmModal .modal-content {
  background: var(--light-gray);
  max-width: 440px;
  padding: 0;
  border-radius: 18px;
  overflow: hidden;
}
.wa-header {
  background: #075e54;
  color: white;
  padding: 16px 20px;
  font-size: 1.3rem;
  font-weight: 600;
  text-align: center;
}
.wa-body {
  padding: 24px 20px;
  background: #ece5dd;
  font-size: 1.1rem;
  line-height: 1.75;
  white-space: pre-wrap;
  word-break: break-word;
}
.wa-body .highlight {
  background: #d9fdd3;
  padding: 14px 18px;
  border-radius: 12px;
  margin: 16px 0;
  box-shadow: 0 2px 8px rgba(0,0,0,0.08);
}
.wa-footer {
  padding: 20px;
  background: white;
  text-align: center;
  border-top: 1px solid #ddd;
}

.note { text-align:center; font-size:0.98rem; color:#444; margin-top:20px; }
.note a { color:var(--turquoise-dark); font-weight:700; text-decoration:none; }
.note a:hover { text-decoration:underline; }

@media (max-width:580px) {
  .products-grid { grid-template-columns: repeat(auto-fill, minmax(150px, 1fr)); gap:16px; }
  .product-card img { height:165px; }
  input[type="number"] { width:110px; height:60px; font-size:1.55rem; }
  .stock-bar-container { height:12px; }
}
</style>
</head>
<body>

<div class="container">
  <div class="header"><img src="logo.png" class="logo-img" alt="Ø§Ù„Ø¹Ø¬Ù…ÙŠ" loading="lazy"></div>
  <h2>Ù†Ù…ÙˆØ°Ø¬ Ø·Ù„Ø¨ Ù…Ù†ØªØ¬Ø§Øª</h2>

  <form id="orderForm">
    <div class="form-group">
      <label>Ø§Ù„Ù…Ø­Ø§ÙØ¸Ø© / Ø§Ù„Ù…Ø¯ÙŠÙ†Ø© *</label>
      <input type="text" name="governorate" placeholder="Ù…Ø«Ø§Ù„: Ø¥Ø³Ø·Ù†Ø¨ÙˆÙ„ - Ù‚ÙˆÙ†ÙŠØ§ - Ø£Ù†Ø·Ø§Ù„ÙŠØ§ - ØºØ§Ø²ÙŠ Ø¹Ù†ØªØ§Ø¨ Ø¥Ù„Ø®" required>
    </div>
    <div class="form-group">
      <label>Ø§Ø³Ù… Ø§Ù„Ø²Ø¨ÙˆÙ† *</label>
      <input type="text" name="customerName" placeholder="Ù…Ø«Ø§Ù„: Ù…Ø­Ù…Ø¯ Ø£Ø­Ù…Ø¯" required>
    </div>

    <div class="form-group">
      <label>Ø§Ø®ØªØ± Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª ÙˆØ§Ù„ÙƒÙ…ÙŠØ§Øª Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø©</label>
      <div class="products-grid">

        <div class="product-card">
          <img src="001.jpg" alt="001 Ø¹Ø¬Ù…ÙŠ Ø­Ù…Øµ Ø¨Ø§Ù„Ø·Ø­ÙŠÙ†Ø© 325Øº" loading="lazy">
          <div class="product-info"><h4>001 Ø¹Ø¬Ù…ÙŠ Ø­Ù…Øµ Ø¨Ø§Ù„Ø·Ø­ÙŠÙ†Ø©</h4><p>325 ØºØ±Ø§Ù…</p></div>
          <input type="number" name="quantity_001" min="0" value="0">
          <div class="stock-info" data-code="001"></div>
        </div>

        <div class="product-card">
          <img src="002.jpg" alt="002 Ø¹Ø¬Ù…ÙŠ ÙƒØ±ÙŠÙ… Ø§Ù„Ø«ÙˆÙ… 230Øº" loading="lazy">
          <div class="product-info"><h4>002 Ø¹Ø¬Ù…ÙŠ ÙƒØ±ÙŠÙ… Ø§Ù„Ø«ÙˆÙ…</h4><p>230 ØºØ±Ø§Ù…</p></div>
          <input type="number" name="quantity_002" min="0" value="0">
          <div class="stock-info" data-code="002"></div>
        </div>

        <div class="product-card">
          <img src="003.jpg" alt="003 Ø¹Ø¬Ù…ÙŠ Ù…ØªØ¨Ù„ 230Øº" loading="lazy">
          <div class="product-info"><h4>003 Ø¹Ø¬Ù…ÙŠ Ù…ØªØ¨Ù„</h4><p>230 ØºØ±Ø§Ù…</p></div>
          <input type="number" name="quantity_003" min="0" value="0">
          <div class="stock-info" data-code="003"></div>
        </div>

        <div class="product-card">
          <img src="004.jpg" alt="004 Ø¹Ø¬Ù…ÙŠ Ø­Ù…Øµ 450Øº" loading="lazy">
          <div class="product-info"><h4>004 Ø¹Ø¬Ù…ÙŠ Ø­Ù…Øµ</h4><p>450 ØºØ±Ø§Ù…</p></div>
          <input type="number" name="quantity_004" min="0" value="0">
          <div class="stock-info" data-code="004"></div>
        </div>

        <div class="product-card">
          <img src="005.jpg" alt="005 Ø¹Ø¬Ù…ÙŠ Ø­Ù…Øµ 300Øº" loading="lazy">
          <div class="product-info"><h4>005 Ø¹Ø¬Ù…ÙŠ Ø­Ù…Øµ</h4><p>300 ØºØ±Ø§Ù…</p></div>
          <input type="number" name="quantity_005" min="0" value="0">
          <div class="stock-info" data-code="005"></div>
        </div>

        <div class="product-card">
          <img src="006.jpg" alt="006 Ø¹Ø¬Ù…ÙŠ Ø­Ù…Øµ 225Øº" loading="lazy">
          <div class="product-info"><h4>006 Ø¹Ø¬Ù…ÙŠ Ø­Ù…Øµ</h4><p>225 ØºØ±Ø§Ù…</p></div>
          <input type="number" name="quantity_006" min="0" value="0">
          <div class="stock-info" data-code="006"></div>
        </div>

        <div class="product-card">
          <img src="007.jpg" alt="007 Ø¹Ø¬Ù…ÙŠ ÙƒØ±ÙŠÙ… Ø§Ù„Ø«ÙˆÙ… 225Øº" loading="lazy">
          <div class="product-info"><h4>007 Ø¹Ø¬Ù…ÙŠ ÙƒØ±ÙŠÙ… Ø§Ù„Ø«ÙˆÙ…</h4><p>225 ØºØ±Ø§Ù…</p></div>
          <input type="number" name="quantity_007" min="0" value="0">
          <div class="stock-info" data-code="007"></div>
        </div>

        <div class="product-card">
          <img src="008.jpg" alt="008 Ø¹Ø¬Ù…ÙŠ Ù…ØªØ¨Ù„ 450Øº" loading="lazy">
          <div class="product-info"><h4>008 Ø¹Ø¬Ù…ÙŠ Ù…ØªØ¨Ù„</h4><p>450 ØºØ±Ø§Ù…</p></div>
          <input type="number" name="quantity_008" min="0" value="0">
          <div class="stock-info" data-code="008"></div>
        </div>

        <div class="product-card">
          <img src="009.jpg" alt="009 Ø¹Ø¬Ù…ÙŠ Ù…ØªØ¨Ù„ 225Øº" loading="lazy">
          <div class="product-info"><h4>009 Ø¹Ø¬Ù…ÙŠ Ù…ØªØ¨Ù„</h4><p>225 ØºØ±Ø§Ù…</p></div>
          <input type="number" name="quantity_009" min="0" value="0">
          <div class="stock-info" data-code="009"></div>
        </div>

        <div class="product-card">
          <img src="010.jpg" alt="010 Ø²Ø§Ø¯ Ø§Ù„Ø¹Ø±Ø¨ÙŠ Ø­Ù…Øµ Ø¨Ø§Ù„Ø·Ø­ÙŠÙ†Ø© 230Øº" loading="lazy">
          <div class="product-info"><h4>010 Ø²Ø§Ø¯ Ø§Ù„Ø¹Ø±Ø¨ÙŠ Ø­Ù…Øµ Ø¨Ø§Ù„Ø·Ø­ÙŠÙ†Ø©</h4><p>230 ØºØ±Ø§Ù…</p></div>
          <input type="number" name="quantity_010" min="0" value="0">
          <div class="stock-info" data-code="010"></div>
        </div>

        <div class="product-card">
          <img src="011.jpg" alt="011 Ø²Ø§Ø¯ Ø§Ù„Ø¹Ø±Ø¨ÙŠ ÙƒØ±ÙŠÙ… Ø§Ù„Ø«ÙˆÙ… 230Øº" loading="lazy">
          <div class="product-info"><h4>011 Ø²Ø§Ø¯ Ø§Ù„Ø¹Ø±Ø¨ÙŠ ÙƒØ±ÙŠÙ… Ø§Ù„Ø«ÙˆÙ…</h4><p>230 ØºØ±Ø§Ù…</p></div>
          <input type="number" name="quantity_011" min="0" value="0">
          <div class="stock-info" data-code="011"></div>
        </div>

        <div class="product-card">
          <img src="012.jpg" alt="012 Ø²Ø§Ø¯ Ø§Ù„Ø¹Ø±Ø¨ÙŠ Ù…ØªØ¨Ù„ 230Øº" loading="lazy">
          <div class="product-info"><h4>012 Ø²Ø§Ø¯ Ø§Ù„Ø¹Ø±Ø¨ÙŠ Ù…ØªØ¨Ù„</h4><p>230 ØºØ±Ø§Ù…</p></div>
          <input type="number" name="quantity_012" min="0" value="0">
          <div class="stock-info" data-code="012"></div>
        </div>

        <div class="product-card">
          <img src="013.jpg" alt="013 Ø§Ù„Ø­Ù…ØµØ§Ù†ÙŠ Ø­Ù…Øµ 230Øº" loading="lazy">
          <div class="product-info"><h4>013 Ø§Ù„Ø­Ù…ØµØ§Ù†ÙŠ Ø­Ù…Øµ</h4><p>230 ØºØ±Ø§Ù…</p></div>
          <input type="number" name="quantity_013" min="0" value="0">
          <div class="stock-info" data-code="013"></div>
        </div>

        <div class="product-card">
          <img src="014.jpg" alt="014 Ø§Ù„Ø­Ù…ØµØ§Ù†ÙŠ ÙƒØ±ÙŠÙ… Ø§Ù„Ø«ÙˆÙ… 230Øº" loading="lazy">
          <div class="product-info"><h4>014 Ø§Ù„Ø­Ù…ØµØ§Ù†ÙŠ ÙƒØ±ÙŠÙ… Ø§Ù„Ø«ÙˆÙ…</h4><p>230 ØºØ±Ø§Ù…</p></div>
          <input type="number" name="quantity_014" min="0" value="0">
          <div class="stock-info" data-code="014"></div>
        </div>

        <div class="product-card">
          <img src="015.jpg" alt="015 Ø§Ù„Ø®Ø§Ù„ Ø­Ù…Øµ 230Øº" loading="lazy">
          <div class="product-info"><h4>015 Ø§Ù„Ø®Ø§Ù„ Ø­Ù…Øµ</h4><p>230 ØºØ±Ø§Ù…</p></div>
          <input type="number" name="quantity_015" min="0" value="0">
          <div class="stock-info" data-code="015"></div>
        </div>

        <div class="product-card">
          <img src="016.jpg" alt="016 Ø§Ù„Ø®Ø§Ù„ ÙƒØ±ÙŠÙ… Ø§Ù„Ø«ÙˆÙ… 230Øº" loading="lazy">
          <div class="product-info"><h4>016 Ø§Ù„Ø®Ø§Ù„ ÙƒØ±ÙŠÙ… Ø§Ù„Ø«ÙˆÙ…</h4><p>230 ØºØ±Ø§Ù…</p></div>
          <input type="number" name="quantity_016" min="0" value="0">
          <div class="stock-info" data-code="016"></div>
        </div>

        <div class="product-card">
          <img src="017.jpg" alt="017 Ø§Ù„Ø®Ø§Ù„ Ù…ØªØ¨Ù„ 230Øº" loading="lazy">
          <div class="product-info"><h4>017 Ø§Ù„Ø®Ø§Ù„ Ù…ØªØ¨Ù„</h4><p>230 ØºØ±Ø§Ù…</p></div>
          <input type="number" name="quantity_017" min="0" value="0">
          <div class="stock-info" data-code="017"></div>
        </div>

        <div class="product-card">
          <img src="018.jpg" alt="018 Ø¹Ø¬Ù…ÙŠ Ø­Ù…Øµ Ø¨Ø§Ù„ÙƒÙŠÙ„Ùˆ" loading="lazy">
          <div class="product-info"><h4>018 Ø¹Ø¬Ù…ÙŠ Ø­Ù…Øµ Ø¨Ø§Ù„ÙƒÙŠÙ„Ùˆ</h4><p>ÙƒÙŠÙ„Ùˆ ØºØ±Ø§Ù…</p></div>
          <input type="number" name="quantity_018" min="0" value="0">
          <div class="stock-info" data-code="018"></div>
        </div>

        <div class="product-card">
          <img src="019.jpg" alt="019 Ø§Ù„Ø­Ù…ØµØ§Ù†ÙŠ Ø­Ù…Øµ Ø¨Ø§Ù„ÙƒÙŠÙ„Ùˆ" loading="lazy">
          <div class="product-info"><h4>019 Ø§Ù„Ø­Ù…ØµØ§Ù†ÙŠ Ø­Ù…Øµ Ø¨Ø§Ù„ÙƒÙŠÙ„Ùˆ</h4><p>ÙƒÙŠÙ„Ùˆ ØºØ±Ø§Ù…</p></div>
          <input type="number" name="quantity_019" min="0" value="0">
          <div class="stock-info" data-code="019"></div>
        </div>

        <div class="product-card">
          <img src="020.jpg" alt="020 Ø²Ø§Ø¯ Ø§Ù„Ø¹Ø±Ø¨ÙŠ ÙƒØ±ÙŠÙ… Ø§Ù„Ø«ÙˆÙ… Ø¨Ø§Ù„ÙƒÙŠÙ„Ùˆ" loading="lazy">
          <div class="product-info"><h4>020 Ø²Ø§Ø¯ Ø§Ù„Ø¹Ø±Ø¨ÙŠ ÙƒØ±ÙŠÙ… Ø§Ù„Ø«ÙˆÙ… Ø¨Ø§Ù„ÙƒÙŠÙ„Ùˆ</h4><p>ÙƒÙŠÙ„Ùˆ ØºØ±Ø§Ù…</p></div>
          <input type="number" name="quantity_020" min="0" value="0">
          <div class="stock-info" data-code="020"></div>
        </div>

        <div class="product-card">
          <img src="021.jpg" alt="021 Ø§Ù„Ø­Ù…ØµØ§Ù†ÙŠ ÙƒØ±ÙŠÙ… Ø§Ù„Ø«ÙˆÙ… Ø¨Ø§Ù„ÙƒÙŠÙ„Ùˆ" loading="lazy">
          <div class="product-info"><h4>021 Ø§Ù„Ø­Ù…ØµØ§Ù†ÙŠ ÙƒØ±ÙŠÙ… Ø§Ù„Ø«ÙˆÙ… Ø¨Ø§Ù„ÙƒÙŠÙ„Ùˆ</h4><p>ÙƒÙŠÙ„Ùˆ ØºØ±Ø§Ù…</p></div>
          <input type="number" name="quantity_021" min="0" value="0">
          <div class="stock-info" data-code="021"></div>
        </div>

        <div class="product-card">
          <img src="022.jpg" alt="022 Ø§Ù„Ø®Ø§Ù„ ÙƒØ±ÙŠÙ… Ø§Ù„Ø«ÙˆÙ… Ø¨Ø§Ù„ÙƒÙŠÙ„Ùˆ" loading="lazy">
          <div class="product-info"><h4>022 Ø§Ù„Ø®Ø§Ù„ ÙƒØ±ÙŠÙ… Ø§Ù„Ø«ÙˆÙ… Ø¨Ø§Ù„ÙƒÙŠÙ„Ùˆ</h4><p>ÙƒÙŠÙ„Ùˆ ØºØ±Ø§Ù…</p></div>
          <input type="number" name="quantity_022" min="0" value="0">
          <div class="stock-info" data-code="022"></div>
        </div>

        <div class="product-card">
          <img src="023.jpg" alt="023 MNZ ÙƒØ±ÙŠÙ… Ø§Ù„Ø«ÙˆÙ… Ø¨Ø§Ù„ÙƒÙŠÙ„Ùˆ" loading="lazy">
          <div class="product-info"><h4>023 MNZ ÙƒØ±ÙŠÙ… Ø§Ù„Ø«ÙˆÙ… Ø¨Ø§Ù„ÙƒÙŠÙ„Ùˆ</h4><p>ÙƒÙŠÙ„Ùˆ ØºØ±Ø§Ù…</p></div>
          <input type="number" name="quantity_023" min="0" value="0">
          <div class="stock-info" data-code="023"></div>
        </div>

        <div class="product-card">
          <img src="024.jpg" alt="024 Ø¹Ø¬Ù…ÙŠ Ù…ØªØ¨Ù„ Ø¨Ø§Ù„ÙƒÙŠÙ„Ùˆ" loading="lazy">
          <div class="product-info"><h4>024 Ø¹Ø¬Ù…ÙŠ Ù…ØªØ¨Ù„ Ø¨Ø§Ù„ÙƒÙŠÙ„Ùˆ</h4><p>ÙƒÙŠÙ„Ùˆ ØºØ±Ø§Ù…</p></div>
          <input type="number" name="quantity_024" min="0" value="0">
          <div class="stock-info" data-code="024"></div>
        </div>

        <div class="product-card">
          <img src="025.jpg" alt="025 Ø­Ù…Øµ Ø®Ø§Ù… Ø£Ø³Ø¨ØªÙŠÙƒ 20 ÙƒØº" loading="lazy">
          <div class="product-info"><h4>025 Ø­Ù…Øµ Ø®Ø§Ù… Ø£Ø³Ø¨ØªÙŠÙƒ</h4><p>20 ÙƒØº</p></div>
          <input type="number" name="quantity_025" min="0" value="0">
          <div class="stock-info" data-code="025"></div>
        </div>

        <div class="product-card">
          <img src="026.jpg" alt="026 2750Øº Ø¹Ø¬Ù…ÙŠ Ù„Ø¨Ù†Ø©" loading="lazy">
          <div class="product-info"><h4>026 Ø¹Ø¬Ù…ÙŠ Ù„Ø¨Ù†Ø©</h4><p>2750 ØºØ±Ø§Ù…</p></div>
          <input type="number" name="quantity_026" min="0" value="0">
          <div class="stock-info" data-code="026"></div>
        </div>

        <div class="product-card">
          <img src="027.jpg" alt="027 900Øº Ø¹Ø¬Ù…ÙŠ Ù„Ø¨Ù†Ø©" loading="lazy">
          <div class="product-info"><h4>027 Ø¹Ø¬Ù…ÙŠ Ù„Ø¨Ù†Ø©</h4><p>900 ØºØ±Ø§Ù…</p></div>
          <input type="number" name="quantity_027" min="0" value="0">
          <div class="stock-info" data-code="027"></div>
        </div>

        <div class="product-card">
          <img src="028.jpg" alt="028 Ø£Ø¨Ùˆ Ø¹Ø¨Ø¯Ùˆ Ø­Ù…Øµ 300Øº" loading="lazy">
          <div class="product-info"><h4>028 Ø£Ø¨Ùˆ Ø¹Ø¨Ø¯Ùˆ Ø­Ù…Øµ</h4><p>300 ØºØ±Ø§Ù…</p></div>
          <input type="number" name="quantity_028" min="0" value="0">
          <div class="stock-info" data-code="028"></div>
        </div>

        <!-- Ø§Ù„Ø£ØµÙ†Ø§Ù Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø© Ø§Ù„Ù„ÙŠ Ø·Ù„Ø¨ØªÙ‡Ø§ Ø¨Ø¯ÙˆÙ† ÙˆØ²Ù† -->

        <div class="product-card">
          <img src="029.jpg" alt="029 Ù…Ø®Ù„Ù„ Ù…Ø´ÙƒÙ„" loading="lazy">
          <div class="product-info"><h4>029 Ù…Ø®Ù„Ù„ Ù…Ø´ÙƒÙ„</h4><p></p></div>
          <input type="number" name="quantity_029" min="0" value="0">
          <div class="stock-info" data-code="029"></div>
        </div>

        <div class="product-card">
          <img src="030.jpg" alt="030 Ù…Ø®Ù„Ù„ ÙÙ„ÙŠÙÙ„Ø©" loading="lazy">
          <div class="product-info"><h4>030 Ù…Ø®Ù„Ù„ ÙÙ„ÙŠÙÙ„Ø©</h4><p></p></div>
          <input type="number" name="quantity_030" min="0" value="0">
          <div class="stock-info" data-code="030"></div>
        </div>

        <div class="product-card">
          <img src="031.jpg" alt="031 ÙƒØ§ØªØ´Ø¨ Ø­Ù„Ùˆ" loading="lazy">
          <div class="product-info"><h4>031 ÙƒØ§ØªØ´Ø¨ Ø­Ù„Ùˆ</h4><p></p></div>
          <input type="number" name="quantity_031" min="0" value="0">
          <div class="stock-info" data-code="031"></div>
        </div>

        <div class="product-card">
          <img src="032.jpg" alt="032 ÙƒØ§ØªØ´Ø¨ Ø­Ø§Ø±" loading="lazy">
          <div class="product-info"><h4>032 ÙƒØ§ØªØ´Ø¨ Ø­Ø§Ø±</h4><p></p></div>
          <input type="number" name="quantity_032" min="0" value="0">
          <div class="stock-info" data-code="032"></div>
        </div>

        <div class="product-card">
          <img src="033.jpg" alt="033 Ø´Ø·Ø©" loading="lazy">
          <div class="product-info"><h4>033 Ø´Ø·Ø©</h4><p></p></div>
          <input type="number" name="quantity_033" min="0" value="0">
          <div class="stock-info" data-code="033"></div>
        </div>

        <div class="product-card">
          <img src="034.jpg" alt="034 Ø¯Ø¨Ø³ Ø±Ù…Ø§Ù†" loading="lazy">
          <div class="product-info"><h4>034 Ø¯Ø¨Ø³ Ø±Ù…Ø§Ù†</h4><p></p></div>
          <input type="number" name="quantity_034" min="0" value="0">
          <div class="stock-info" data-code="034"></div>
        </div>

        <div class="product-card">
          <img src="035.jpg" alt="035 ØµÙˆØµ Ø§Ù„Ø³Ù„Ø·Ø©" loading="lazy">
          <div class="product-info"><h4>035 ØµÙˆØµ Ø§Ù„Ø³Ù„Ø·Ø©</h4><p></p></div>
          <input type="number" name="quantity_035" min="0" value="0">
          <div class="stock-info" data-code="035"></div>
        </div>

        <div class="product-card">
          <img src="036.jpg" alt="036 Ù…Ø¹Ø¬ÙˆÙ† Ø§Ù„Ø·Ù…Ø§Ø·Ù…" loading="lazy">
          <div class="product-info"><h4>036 Ù…Ø¹Ø¬ÙˆÙ† Ø§Ù„Ø·Ù…Ø§Ø·Ù…</h4><p></p></div>
          <input type="number" name="quantity_036" min="0" value="0">
          <div class="stock-info" data-code="036"></div>
        </div>

      </div>
    </div>

    <div class="form-group">
      <label>Ù…Ù„Ø§Ø­Ø¸Ø§Øª</label>
      <textarea name="notes" placeholder="Ø£ÙŠ ØªÙØ§ØµÙŠÙ„ Ø¥Ø¶Ø§ÙÙŠØ© (Ù…Ø«Ø§Ù„: Ù†ÙˆØ¹ Ø§Ù„ØªØºÙ„ÙŠÙ Ø£Ùˆ ÙˆÙ‚Øª Ø§Ù„ØªØ³Ù„ÙŠÙ… Ø§Ù„Ù…ÙØ¶Ù„)"></textarea>
    </div>

    <button type="submit" id="submitBtn">Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø·Ù„Ø¨</button>

    <div class="note">
      ÙÙŠ Ø­Ø§Ù„ ÙˆØ¬ÙˆØ¯ Ø§Ø³ØªÙØ³Ø§Ø±ØŒ Ø§Ù„ØªÙˆØ§ØµÙ„ Ø¹Ø¨Ø± ÙˆØ§ØªØ³: 
      <a href="https://wa.me/905522221247" target="_blank" rel="noopener">00905522221247</a> ğŸ’¬
    </div>
  </form>

  <!-- Modal Ù…Ø±Ø§Ø¬Ø¹Ø© -->
  <div id="reviewModal" class="modal">
    <div class="modal-content">
      <h3>Ù…Ø±Ø§Ø¬Ø¹Ø© Ø§Ù„Ø·Ù„Ø¨ Ù‚Ø¨Ù„ Ø§Ù„Ø¥Ø±Ø³Ø§Ù„</h3>
      <pre id="reviewText"></pre>
      <div class="question">Ù‡Ù„ Ø§Ù„ÙƒÙ…ÙŠØ© ØµØ­ÙŠØ­Ø© ÙˆÙƒØ§Ù…Ù„Ø©ØŸ</div>
      <div class="modal-buttons">
        <button class="modal-btn confirm" id="goToConfirm">Ù†Ø¹Ù…ØŒ Ø£Ø±Ø³Ù„</button>
        <button class="modal-btn cancel" id="cancelReview">Ø±Ø§Ø¬Ø¹ Ù…Ø±Ø© Ø£Ø®Ø±Ù‰</button>
      </div>
    </div>
  </div>

  <!-- Modal ØªØ£ÙƒÙŠØ¯ ÙˆØ§ØªØ³Ø§Ø¨ÙŠ -->
  <div id="confirmModal" class="modal">
    <div class="modal-content">
      <div class="wa-header">ØªØ£ÙƒÙŠØ¯ Ø§Ù„Ø·Ù„Ø¨</div>
      <div class="wa-body" id="waMessage"></div>
      <div class="wa-footer">
        <button class="modal-btn confirm" id="confirmSendFinal" style="background:#25D366;color:white;min-width:190px;">
          Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø·Ù„Ø¨ Ø§Ù„Ù†Ù‡Ø§Ø¦ÙŠ
        </button>
        <button class="modal-btn cancel" id="backToReview" style="margin-top:14px;">
          ØªØ¹Ø¯ÙŠÙ„ Ø§Ù„Ø·Ù„Ø¨
        </button>
      </div>
    </div>
  </div>
</div>

<script>
// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
//                   Ø§Ù„Ø¬Ø§ÙØ§Ø³ÙƒØ±ÙŠØ¨Øª ÙƒØ§Ù…Ù„
// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

const SCRIPT_URL = "https://script.google.com/macros/s/AKfycbwmkS61TA56ODMQxvRASxW4b_3feZssp6NfTuZdaiJzs4A0T7jV3oZOeKB8thgjSNKwuA/exec";
const WHATSAPP_NUMBER = "905522221247";

let stockData = {};

async function loadStock() {
  try {
    const r = await fetch(SCRIPT_URL, {method:"GET", mode:"cors", cache:"no-cache"});
    if (!r.ok) throw new Error("HTTP " + r.status);
    const d = await r.json();
    if (d.success && d.stock) {
      stockData = d.stock;
      updateStockBars();
    }
  } catch(e) {
    console.error("ÙØ´Ù„ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù…Ø®Ø²ÙˆÙ†", e);
  }
}

function updateStockBars() {
  document.querySelectorAll('.stock-info').forEach(el => {
    const code = el.dataset.code;
    if (!code) return;
    const item = stockData[code] || {stock:0, target:200};
    const cur = Number(item.stock) || 0;
    const tgt = Number(item.target) || 200;
    const pct = Math.min(Math.max(cur / tgt * 100, 0), 100);
    let color, emoji, txt;
    if (cur >= tgt * 0.5) { color='#4CAF50'; emoji='ğŸŸ¢'; txt='Ù…ØªÙˆÙØ± Ø¨ÙƒØ«Ø±Ø©'; }
    else if (cur >= tgt * 0.15) { color='#FF9800'; emoji='ğŸŸ '; txt='ÙƒÙ…ÙŠØ© Ù…ØªÙˆØ³Ø·Ø©'; }
    else if (cur > 0) { color='#F44336'; emoji='ğŸ”´'; txt='Ù‚Ù„ÙŠÙ„ Ø¬Ø¯Ù‹Ø§'; }
    else { color='#9E9E9E'; emoji='âšª'; txt='Ù†ÙØ¯ Ø­Ø§Ù„ÙŠÙ‹Ø§'; }
    el.innerHTML = `
      <div class="stock-bar-container">
        <div class="stock-bar" style="width:${pct}%;background-color:${color}"></div>
      </div>
      <span class="stock-text">${emoji} ${cur} / ${tgt} â€“ ${txt}</span>
    `;
  });
}

function getReviewText() {
  let txt = "";
  let i = 1;
  let count = 0;
  document.querySelectorAll('.product-card').forEach(card => {
    const q = Number(card.querySelector('input').value) || 0;
    if (q > 0) {
      count++;
      const name = card.querySelector('h4').textContent.trim();
      const weight = card.querySelector('p').textContent.trim();
      txt += `${i}. ${name}\n   Ø§Ù„ÙƒÙ…ÙŠØ©: ${q}â€ƒâ€ƒ${weight}\n\n`;
      i++;
    }
  });
  if (count > 0) txt += `Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø¹Ø¯Ø¯ Ø§Ù„Ø£ØµÙ†Ø§Ù Ø§Ù„Ù…Ø®ØªØ§Ø±Ø©: ${count}`;
  return txt;
}

function getWhatsAppText() {
  const now = new Date();
  const days = ["Ø§Ù„Ø£Ø­Ø¯","Ø§Ù„Ø¥Ø«Ù†ÙŠÙ†","Ø§Ù„Ø«Ù„Ø§Ø«Ø§Ø¡","Ø§Ù„Ø£Ø±Ø¨Ø¹Ø§Ø¡","Ø§Ù„Ø®Ù…ÙŠØ³","Ø§Ù„Ø¬Ù…Ø¹Ø©","Ø§Ù„Ø³Ø¨Øª"];
  const months = ["ÙƒØ§Ù†ÙˆÙ† Ø§Ù„Ø«Ø§Ù†ÙŠ","Ø´Ø¨Ø§Ø·","Ø¢Ø°Ø§Ø±","Ù†ÙŠØ³Ø§Ù†","Ø£ÙŠØ§Ø±","Ø­Ø²ÙŠØ±Ø§Ù†","ØªÙ…ÙˆØ²","Ø¢Ø¨","Ø£ÙŠÙ„ÙˆÙ„","ØªØ´Ø±ÙŠÙ† Ø§Ù„Ø£ÙˆÙ„","ØªØ´Ø±ÙŠÙ† Ø§Ù„Ø«Ø§Ù†ÙŠ","ÙƒØ§Ù†ÙˆÙ† Ø§Ù„Ø£ÙˆÙ„"];
  const dayName = days[now.getDay()];
  const d = String(now.getDate()).padStart(2,'0');
  const m = months[now.getMonth()];
  const y = now.getFullYear();
  let h = now.getHours();
  const min = String(now.getMinutes()).padStart(2,'0');
  const ampm = h >= 12 ? "Ù…Ø³Ø§Ø¡Ù‹" : "ØµØ¨Ø§Ø­Ø§Ù‹";
  h = h % 12 || 12;
  const datetime = `${dayName}, ${d}/${m}/${y} Ø§Ù„Ø³Ø§Ø¹Ø© ${h}:${min} ${ampm}`;
  const gov = document.querySelector('[name="governorate"]').value.trim();
  const cust = document.querySelector('[name="customerName"]').value.trim();
  const note = document.querySelector('[name="notes"]').value.trim() || "Ù„Ø§ ØªÙˆØ¬Ø¯";
  let items = "";
  let idx = 1;
  let count = 0;
  document.querySelectorAll('.product-card').forEach(card => {
    const q = Number(card.querySelector('input').value) || 0;
    if (q > 0) {
      count++;
      const name = card.querySelector('h4').textContent.trim();
      const weight = card.querySelector('p').textContent.trim();
      items += `${idx}. ${name}\n   ${weight}\n   Ø§Ù„ÙƒÙ…ÙŠØ©: ${q}\n\n`;
      idx++;
    }
  });
  if (count > 0) items += `Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø¹Ø¯Ø¯ Ø§Ù„Ø£ØµÙ†Ø§Ù Ø§Ù„Ù…Ø®ØªØ§Ø±Ø©: ${count}`;
  return `ğŸ›’ *Ø·Ù„Ø¨ Ø¬Ø¯ÙŠØ¯ Ù…Ù† Ù†Ù…ÙˆØ°Ø¬ Ø§Ù„Ø¹Ø¬Ù…ÙŠ*
ğŸ“… Ø§Ù„ØªØ§Ø±ÙŠØ® ÙˆØ§Ù„ÙˆÙ‚Øª: ${datetime}
ğŸ“ Ø§Ù„Ù…Ø­Ø§ÙØ¸Ø© / Ø§Ù„Ù…Ø¯ÙŠÙ†Ø©: ${gov}
ğŸ‘¤ Ø§Ø³Ù… Ø§Ù„Ø²Ø¨ÙˆÙ†: ${cust}
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
${items}
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
ğŸ“ Ø§Ù„Ù…Ù„Ø§Ø­Ø¸Ø§Øª:
${note}
Ø´ÙƒØ±Ø§Ù‹ Ù„Ø«Ù‚ØªÙƒÙ… ğŸŒŸğŸ™`;
}

document.getElementById('orderForm').addEventListener('submit', e => {
  e.preventDefault();
  const gov = document.querySelector('[name="governorate"]').value.trim();
  const name = document.querySelector('[name="customerName"]').value.trim();
  if (!gov || !name) {
    alert("ÙŠØ±Ø¬Ù‰ ØªØ¹Ø¨Ø¦Ø© Ø§Ù„Ù…Ø­Ø§ÙØ¸Ø© ÙˆØ§Ø³Ù… Ø§Ù„Ø²Ø¨ÙˆÙ†");
    return;
  }
  const txt = getReviewText();
  if (!txt) {
    alert("ÙŠØ¬Ø¨ Ø§Ø®ØªÙŠØ§Ø± Ù…Ù†ØªØ¬ ÙˆØ§Ø­Ø¯ Ø¹Ù„Ù‰ Ø§Ù„Ø£Ù‚Ù„");
    return;
  }
  document.getElementById('reviewText').textContent = txt;
  document.getElementById('reviewModal').style.display = 'flex';
});

document.getElementById('goToConfirm').onclick = function() {
  document.getElementById('reviewModal').style.display = 'none';
  const reviewTxt = document.getElementById('reviewText').textContent;
  const waStyle = `ğŸ›’ *Ø·Ù„Ø¨ Ø¬Ø¯ÙŠØ¯ â€“ Ø§Ù„Ø¹Ø¬Ù…ÙŠ*\nâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n${reviewTxt}\nâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\nØ´ÙƒØ±Ø§Ù‹ Ù„Ø«Ù‚ØªÙƒÙ… ğŸ“¦ğŸ’š`;
  document.getElementById('waMessage').innerHTML = '<div class="highlight">' + waStyle.replace(/\n/g, '<br>') + '</div>';
  document.getElementById('confirmModal').style.display = 'flex';
};

document.getElementById('confirmSendFinal').onclick = function() {
  document.getElementById('confirmModal').style.display = 'none';
  const btn = document.getElementById('submitBtn');
  btn.disabled = true;
  btn.classList.add('loading');
  btn.textContent = 'Ø¬Ø§Ø±ÙŠ Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø·Ù„Ø¨...';
  fetch(SCRIPT_URL, {
    method: 'POST',
    body: new FormData(document.getElementById('orderForm'))
  })
  .then(r => {
    if (!r.ok) throw new Error('HTTP ' + r.status);
    return r.json();
  })
  .then(data => {
    if (data?.success) {
      const msg = getWhatsAppText();
      const url = `https://wa.me/${WHATSAPP_NUMBER}?text=${encodeURIComponent(msg)}`;
      window.open(url, '_blank');
      alert(`ØªÙ… Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø·Ù„Ø¨ Ø¨Ù†Ø¬Ø§Ø­!\nØ±Ù‚Ù… Ø§Ù„Ø·Ù„Ø¨: ${data.orderId || 'ØºÙŠØ± Ù…ØªÙˆÙØ±'}`);
      document.getElementById('orderForm').reset();
      loadStock();
    } else {
      alert(data?.message || "Ø­Ø¯Ø« Ø®Ø·Ø£");
    }
  })
  .catch(err => {
    alert("Ø­Ø¯Ø« Ø®Ø·Ø£ Ø£Ø«Ù†Ø§Ø¡ Ø§Ù„Ø¥Ø±Ø³Ø§Ù„\n" + err.message);
  })
  .finally(() => {
    btn.disabled = false;
    btn.classList.remove('loading');
    btn.textContent = 'Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø·Ù„Ø¨';
  });
};

document.getElementById('cancelReview').onclick =
document.getElementById('backToReview').onclick = () => {
  document.getElementById('reviewModal').style.display = 'none';
  document.getElementById('confirmModal').style.display = 'none';
};

window.addEventListener('DOMContentLoaded', loadStock);
</script>
</body>
</html>
